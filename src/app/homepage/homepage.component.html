<app-navbar
  (searchList)="searchDisplay($event)"
  [homepageActive]="true"
></app-navbar>

<!--Secondary navbar-->
<div class="container-fluid navbar-color-secondary sticky-top">
  <div class="d-flex pt-2 justify-content-center flex-wrap">
    <div class="pr-5 d-flex">
      <img
        src="https://image.flaticon.com/icons/svg/235/235265.svg"
        class="img-fluid navbar-image"
      />
      <p class="text-center pl-2 pt-1">
        <button
          type="button"
          class="text-light btn pl-0 pt-0"
          (click)="filter('laptops')"
        >
          Laptops
        </button>
      </p>
    </div>

    <div class="pr-5 d-flex">
      <img
        src="https://image.flaticon.com/icons/svg/201/201574.svg"
        class="img-fluid navbar-image"
      />
      <p class="text-center pl-2 pt-1">
        <button
          type="button"
          class="text-light btn pl-0 pt-0"
          (click)="filter('mobiles')"
        >
          Mobiles
        </button>
      </p>
    </div>

    <div class="pr-5 d-flex">
      <img
        src="https://image.flaticon.com/icons/svg/125/125271.svg"
        class="img-fluid navbar-image"
      />
      <p class="text-center pl-2 pt-1">
        <button
          type="button"
          class="text-light btn pl-0 pt-0"
          (click)="filter('tablets')"
        >
          Tablets
        </button>
      </p>
    </div>

    <div class="pr-5 d-flex">
      <img
        src="https://image.flaticon.com/icons/svg/125/125278.svg"
        class="img-fluid navbar-image"
      />
      <p class="text-center pl-2 pt-1">
        <button
          type="button"
          class="text-light btn pl-0 pt-0"
          (click)="filter('television')"
        >
          Televisions
        </button>
      </p>
    </div>
  </div>
</div>

<!--alert-->
<div
  *ngIf="addToCartBoolean"
  class="container-fluid alert alert-success alert-dismissible fade show text-center sticky-top"
  style="top: 50px;"
>
  <button
    type="button"
    class="close"
    data-dismiss="alert"
    (click)="addToCartBoolean = false"
  >
    &times;
  </button>
  <strong>Item added to cart</strong>
</div>

<!--carousel-->
<div *ngIf="categorySelected == ''" class="container-fluid mb-3 mt-2">
  <div id="demo" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ul class="carousel-indicators">
      <li data-target="#demo" data-slide-to="0" class="active"></li>
      <li data-target="#demo" data-slide-to="1"></li>
      <li data-target="#demo" data-slide-to="2"></li>
    </ul>

    <!-- The slideshow -->
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img
          src="https://rukminim1.flixcart.com/flap/5000/5000/image/62b25e7339ffd977.jpg?q=50"
          class="carousel-img-size"
        />
      </div>
      <div class="carousel-item">
        <img
          src="https://rukminim1.flixcart.com/flap/5000/5000/image/2b89c50d90584a21.jpg?q=50"
          class="carousel-img-size"
        />
      </div>
      <div class="carousel-item">
        <img
          src="https://rukminim1.flixcart.com/flap/5000/5000/image/8c92656d681e0de3.jpg?q=50"
          class="carousel-img-size"
        />
      </div>
    </div>

    <!-- Left and right controls -->
    <a class="carousel-control-prev" href="#demo" data-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </a>
    <a class="carousel-control-next" href="#demo" data-slide="next">
      <span class="carousel-control-next-icon"></span>
    </a>
  </div>
</div>

<!--user welcome-->
<div
  *ngIf="username != '' && !checkCategorySelected()"
  class="container-fluid text-center bg-lightbackground pt-3 pb-1"
>
  <h4 class="display-5">
    <span class="cursive-font heading-border">Welcome </span>
    <span class="text-success cursive-font heading-border text-capitalize">{{
      username
    }}</span>
  </h4>
  <div class="text-muted mt-4 mb-5">
    Enjoy through our wide variety of tech devices and select what you desire.
  </div>
</div>

<!--demo homepage-->
<div class="container-fluid">
  <!--homepage preview-->
  <div
    *ngIf="!checkCategorySelected()"
    class="container-fluid mt-3 p-4 mb-4 mt-4"
  >
    <div class="d-flex mb-3 ml-3">
      <h2 class="display-6 heading-border">
        <span class="text-muted" style="font-size: 1.5rem;">Top picks for </span
        ><span class="text-success">Mobiles</span>
      </h2>
    </div>
    <app-preview [category]="'mobiles'"></app-preview>
  </div>

  <div
    *ngIf="!checkCategorySelected()"
    class="container-fluid mt-3 p-4 mb-4 mt-4"
  >
    <div class="d-flex mb-3 ml-3">
      <h2 class="display-6 heading-border">
        <span class="text-muted" style="font-size: 1.5rem;">Top picks for </span
        ><span class="text-success">Laptops</span>
      </h2>
    </div>
    <app-preview [category]="'laptops'"></app-preview>
  </div>

  <div
    *ngIf="!checkCategorySelected()"
    class="container-fluid mt-3 p-4 mb-4 mt-4"
  >
    <div class="d-flex mb-3 ml-3">
      <h2 class="display-6 heading-border">
        <span class="text-muted" style="font-size: 1.5rem;">Top picks for</span
        ><span class="text-success">Tablets</span>
      </h2>
    </div>
    <app-preview [category]="'tablets'"></app-preview>
  </div>

  <div
    *ngIf="!checkCategorySelected()"
    class="container-fluid mt-3 p-4 mb-4 mt-4"
  >
    <div class="d-flex mb-3 ml-3">
      <h2 class="display-6 heading-border">
        <span class="text-muted" style="font-size: 1.5rem;">Top picks for </span
        ><span class="text-success">Televisions</span>
      </h2>
    </div>
    <app-preview [category]="'television'"></app-preview>
  </div>

  <!--info-->
  <div class="container-fluid" *ngIf="!checkCategorySelected()">
    <div class="font-weight-bold text-muted">
      GeekyStore: The One-stop Electronics Shopping Destination
    </div>
    <div class="text-muted mb-5">
      E-commerce is revolutionizing the way we all shop in India. Why do you
      want to hop from one store to another in search of the latest phone when
      you can find it on the Internet in a single click? Not only mobiles.
      GeekyStore houses every electronic item and we are adding more, from
      trending electronics like laptops, tablets, smartphones to mobile
      accessories and Televisions;we got them all covered. You name it, and you
      can stay assured about finding them all here. For those of you with
      erratic working hours, GeekyStore is your best bet. Shop in your PJs, at
      night or in the wee hours of the morning. This e-commerce never shuts
      down. What's more, with our year-round shopping festivals and events, our
      prices are irresistible. We're sure you'll find yourself picking up more
      than what you had in mind. If you are wondering why you should shop from
      GeekyStore when there are multiple options available to you, well, the
      below will answer your question.
    </div>
  </div>
</div>

<!--products display-->
<div *ngIf="checkCategorySelected()" class="container-fluid">
  <div class="row">
    <!--filters-->
    <div class="col-sm-2 border">
      <div class="sticky-top" style="top: 50px;">
        <div class="text-center pt-4 ">
          <h4 class="display-5 text-danger">FILTERS</h4>
          <hr />
        </div>

        <div class="border pt-2 pb-2 pl-4">
          <h5 class="display-5 text-center">Price filter :</h5>
          <div class="form-check-inline">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="filter"
                (click)="priceFilter(0, 10000)"
              />0 - 10,000
            </label>
          </div>
          <div class="form-check-inline">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="filter"
                (click)="priceFilter(10000, 20000)"
              />10,000 - 20,000
            </label>
          </div>
          <div class="form-check-inline">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="filter"
                (click)="priceFilter(20000, 30000)"
              />20,000 - 30,000
            </label>
          </div>
          <div class="form-check-inline">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="filter"
                (click)="priceFilter(30000, 40000)"
              />30,000 - 40,000
            </label>
          </div>
          <div class="form-check-inline">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="filter"
                (click)="priceFilter(40000, 50000)"
              />40,000 - 50,000
            </label>
          </div>
          <div class="form-check-inline">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="filter"
                (click)="priceFilter(50000, 5000000)"
              />50,000 - above
            </label>
          </div>
        </div>
      </div>
    </div>

    <!--Products-->
    <div class="col-sm-10" *ngIf="myArray.length != 0">
      <div class="container text-center mb-4 mt-3">
        <div class="text-muted">Our exciting range of</div>
        <h3 class="display-5 text-danger text-uppercase">
          {{ categorySelected }}
        </h3>
      </div>

      <div *ngIf="checkCategorySelected()" class="container-fluid">
        <div class="container-fluid d-flex flex-wrap">
          <div *ngFor="let i of myArray; let ind = index">
            <div class="card text-center pt-3 mb-5 mr-4 pl-5 pr-5" style="width: 300px; height: 550px;">
              <img
                class="card-img-top img-style positon-relative m-auto"
                alt="Product image"
                [src]="i.imgUrl"
              />
              <div class="card-body">
                <h5 class="card-title heading-border pb-2">
                  <a href="/home/{{ i.id }}" class="text-dark">{{ i.name }}</a>
                </h5>
                <div class="card-text">
                  <p>
                    <span>{{ i.model }}</span>
                  </p>
                  <p>
                    <span class="font-weight-bold">Price : </span>
                    <span class="text-success">&#8377; {{ i.price }}</span>
                  </p>
                </div>
                <button
                  type="button"
                  class="btn btn-outline-danger rounded-corner"
                  [disabled]="!i.inStock"
                  (click)="addToCart(i.id)"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--search error-->
    <div class="col-sm-10" *ngIf="myArray.length == 0">
      <div class="container text-muted text-center pt-5">No results found</div>
    </div>
  </div>
</div>
