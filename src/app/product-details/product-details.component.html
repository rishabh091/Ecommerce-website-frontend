<app-navbar></app-navbar>

<!--alert-->
<div
  *ngIf="addToCartBoolean"
  class="container-fluid alert alert-success alert-dismissible fade show text-center sticky-top"
  style="top: 50px;"
>
  <button type="button" class="close" data-dismiss="alert" (click)="addToCartBoolean=false;">&times;</button>
  <strong>Item added to cart</strong>
</div>

<!--alert for edit products-->
<div
  *ngIf="editProductBoolean"
  class="container-fluid alert alert-warning alert-dismissible fade show text-center sticky-top"
  style="top: 50px;"
>
  <button type="button" class="close" data-dismiss="alert" (click)="editProductBoolean=false;">&times;</button>
  <strong>Product edited!</strong>
</div>

<div class="container-fluid flex-display mt-4 mr-4">
  <div class="mr-5"><img [src]="imgSrc" class="img-fluid img-size" /></div>
  <div>
    <h3 class="display-4 heading-border pb-2">{{ name }}</h3>

    <ul *ngFor="let i of detailsArr" class="mt-3 text-muted">
      <li>{{ i }}</li>
    </ul>
    <!-- <div class="mt-3 text-muted">{{ details }}</div> -->

    <h5 class="display-5 mt-4 mb-4">
      <span class="font-weight-bold">Model : </span>{{ model }}
    </h5>
    <h5 class="display-5 mt-4 mb-4">
      <span class="font-weight-bold">Price : </span
      ><span class="text-success">&#x20B9; {{ price }}</span>
    </h5>

    <div>
      <button
        type="button"
        class="btn btn-outline-danger btn-edit m-4 button-size"
        [disabled]="!inStock"
        (click)="addToCart()"
      >
        Add to Cart
    </button>
    </div>

    <!--edit product-->
    <div *ngIf="isSeller">
      <button type="button" class="btn border" 
      data-toggle="modal"
      data-target="#myModal">
        <i class="material-icons p-2">edit</i>
      </button>
    </div>
  </div>
</div>

<!-- The Modal -->
<div class="modal fade" id="myModal">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Edit your product</h4>
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">

        <div class="form-group">
          <label for="name">Name : </label>
          <input
            type="text"
            class="form-control"
            id="name"
            [(ngModel)]="name"
            [ngModelOptions]="{ standalone: true }"
            [value]="name"
          />
        </div>

        <div class="form-group">
          <label for="brand">Brand : </label>
          <input
            type="text"
            class="form-control"
            id="brand"
            [(ngModel)]="brand"
            [ngModelOptions]="{ standalone: true }"
            [value]="brand"
          />
        </div>

        <div class="form-group">
          <label for="price">Price : </label>
          <input
            type="text"
            class="form-control"
            id="price"
            [value]="price"
            [(ngModel)]="price"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="details">Details : </label>
          <textarea
            type="text"
            rows="5"
            class="form-control"
            id="details"
            [value]="details"
            maxlength="255"
            [(ngModel)]="details"
            [ngModelOptions]="{ standalone: true }"
          ></textarea>
          <div class="text-muted">
            Make sure details are less than 255 letters.
          </div>
        </div>

        <div class="form-group">
          <label for="model">Model : </label>
          <input
            type="text"
            class="form-control"
            id="model"
            [value]="model"
            [(ngModel)]="model"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="imgUrl">Image Url : </label>
          <input
            type="text"
            class="form-control"
            id="imgUrl"
            [value]="imgSrc"
            [(ngModel)]="imgSrc"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="category">Category : </label>
          <select
            class="form-control"
            id="category"
            [value]="category"
            [(ngModel)]="category"
            [ngModelOptions]="{ standalone: true }"
          >
            <option value="mobiles">Mobiles</option>
            <option value="laptops">Laptops</option>
            <option value="tablets">Tablets</option>
            <option value="television">Television</option>
          </select>
        </div>

        <div class="custom-control custom-checkbox mb-3">
          <input
            type="checkbox"
            class="custom-control-input"
            id="customCheck"
            [value]="inStock"
            [(ngModel)]="inStock"
            [ngModelOptions]="{ standalone: true }"
          />
          <label class="custom-control-label" for="customCheck"
            >In stock?</label
          >
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger rounded-border"
          data-dismiss="modal"
          (click)="editData()"
        >
          Edit
        </button>
      </div>
    </div>
  </div>
</div>
