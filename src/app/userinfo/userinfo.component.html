<div class="container-fluid text-right p-3">
  <a href="home"><i class="material-icons text-muted">home</i></a>
</div>

<div class="container d-flex mt-5 mb-5 wrap-class">
  <div class="container">
    <div class="d-flex">
      <h1 class="display-5 heading-border">Personal Information</h1>
    </div>

    <div class="text-muted mt-4">
      Hello,
      <input
        type="text"
        class="p-2 text-capitalize text-success custom-border"
        [value]="name"
        [(ngModel)]="name"
        [ngModelOptions]="{ standalone: true }"
      />

      <p *ngIf="!isSeller">
        It's nice you choose us for your shopping experience, we will try our
        best we gave you the best experience you ever had. Cheers !!
      </p>
      <p *ngIf="isSeller">
        Hey !! Thank you for choosing our platform for further advancement of
        your online business, we will help in every way possible to get you more
        income and customers. REGARDS - <i>GeekyStore.</i>
      </p>
    </div>

    <div class="text-muted mt-4">
      <div>Email :</div>
      <input
        type="text"
        class="p-2 text-success custom-border"
        [value]="email"
        [(ngModel)]="email"
        [ngModelOptions]="{ standalone: true }"
      />
    </div>

    <div class="text-muted mt-4">
      <div>Mobile :</div>
      <input
        type="text"
        class="p-2 text-success custom-border"
        [value]="mobile"
        [(ngModel)]="mobile"
        [ngModelOptions]="{ standalone: true }"
      />
    </div>

    <div class="text-muted mt-4">
      <div>Address :</div>
      <input
        class="text"
        class="p-2 text-success custom-border"
        [value]="address"
        [(ngModel)]="address"
        [ngModelOptions]="{ standalone: true }"
      />
    </div>

    <div *ngIf="isSeller" class="mt-4">
      <button
        type="button"
        class="btn btn-outline-danger rounded-border"
        data-toggle="modal"
        data-target="#myModal"
      >
        Add Product
      </button>
    </div>
    <div class="mt-5 d-flex">
      <button
        type="button"
        class="btn btn-secondary shadow rounded-circle-custom"
        data-toggle="modal"
        data-target="#editProfileModal"
      >
        change password
      </button>
      <button
        type="button"
        class="btn btn-success shadow rounded-circle-custom-reverse"
        (click)="editProfile()"
      >
        Save changes
      </button>
    </div>
  </div>

  <!--order history-->
  <div class="container border">
    <h1 class="display-5 p-2">Recent Orders</h1>

    <div style="height: 500px; overflow: auto;">
      <div *ngFor="let i of historyArray">
        <div class="container-fluid p-5">
          <div class="row">
            <div class="col-sm-2 border text-center">
              <img
                [src]="i.products.imgUrl"
                class="img-fluid img-size mt-4 mb-4"
              />
            </div>

            <div class="col-sm-9 p-3 border">
              <a href="/home/{{ i.products.id }}"
                ><h5 class="display-5 heading-border pb-2">
                  {{ i.products.name }}
                </h5></a
              >
              <div class="mt-3">
                <span class="font-weight-bold">Price : </span
                ><span class="text-success ml-4">
                  &#8377; {{ i.products.price * i.quantity }}</span
                >
              </div>
              <div class="mt-3">
                <span class="font-weight-bold">Quantity : </span
                ><span class="text-success ml-4">
                  &#8377; {{ i.quantity }}</span
                >
              </div>

              <div class="text-success mt-3">Order successfully purchased.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- The Modal -->
<div class="modal fade" id="myModal">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Add your product</h4>
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div
          *ngIf="error"
          class="alert alert-danger alert-dismissible fade show"
        >
          <button type="button" class="close" data-dismiss="alert">
            &times;
          </button>
          <strong
            >Enter all the Information correctly. Fields cannot be left
            empty.</strong
          >
        </div>

        <div class="form-group">
          <label for="name">Name : </label>
          <input
            type="text"
            class="form-control"
            id="name"
            [(ngModel)]="productName"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="brand">Brand : </label>
          <input
            type="text"
            class="form-control"
            id="brand"
            [(ngModel)]="brand"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="price">Price : </label>
          <input
            type="text"
            class="form-control"
            id="price"
            [(ngModel)]="price"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="details">Details : </label>
          <textarea
            type="text"
            rows="5"
            class="form-control"
            id="details"
            maxlength="255"
            [(ngModel)]="details"
            [ngModelOptions]="{ standalone: true }"
          ></textarea>
          <div class="text-muted">
            Make sure details are less than 255 letters.
          </div>
        </div>

        <div class="form-group">
          <label for="model">Model : </label>
          <input
            type="text"
            class="form-control"
            id="model"
            [(ngModel)]="model"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="imgUrl">Image Url : </label>
          <input
            type="text"
            class="form-control"
            id="imgUrl"
            [(ngModel)]="productImage"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="category">Category : </label>
          <select
            class="form-control"
            id="category"
            [(ngModel)]="category"
            [ngModelOptions]="{ standalone: true }"
          >
            <option>Mobiles</option>
            <option>Laptops</option>
            <option>Tablets</option>
            <option>Television</option>
          </select>
        </div>

        <div class="custom-control custom-checkbox mb-3">
          <input
            type="checkbox"
            class="custom-control-input"
            id="customCheck"
            [(ngModel)]="stock"
            [ngModelOptions]="{ standalone: true }"
          />
          <label class="custom-control-label" for="customCheck"
            >In stock?</label
          >
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger rounded-border"
          (click)="sendData()"
        >
          Add
        </button>
      </div>
    </div>
  </div>
</div>

<!-- The Modal for edit profile -->
<div class="modal fade editProfileModal" id="editProfileModal">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Change Password</h4>
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="form-group">
          <label for="oldPassword">Old Password : </label>
          <input
            type="password"
            class="form-control custom-border"
            id="oldPassword"
            [(ngModel)]="oldPassword"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="newPassword">New Password : </label>
          <input
            type="password"
            class="form-control custom-border"
            id="newPassword"
            [(ngModel)]="newPassword"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>

        <div class="form-group">
          <label for="newPasswordConfirm">Re-enter new password : </label>
          <input
            type="password"
            class="form-control custom-border"
            id="newPasswordConfirm"
            [(ngModel)]="newPasswordConfirm"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger rounded-border"
          data-dismiss="modal"
          (click)="savePassword()"
        >
          Save Password
        </button>
      </div>
    </div>
  </div>
</div>
